{% extends "AcmeManagerBundle::layout.html.twig" %}

{% block javascripts %}
{{ parent() }}
<script src="{{ asset('js/calendar.js') }}" type="text/javascript"></script>

<script type="text/javascript">
    $(function() {
        Manager.Calendar.start({
            container: '#days',
            route: 'jsonData'
        });
        $( ".unasigned, .scheduled" ).sortable({
            connectWith: ".tasks",
            placeholder: "task-placeholder",
            cancel: ".break",
            forcePlaceholderSize: true
	}).disableSelection();

    
        $( ".unasigned, .scheduled" ).bind( "sortstop", function(event, ui) {
            $(ui.item[0]).children().width("100%");
        });
        
        $( ".tasks li > *" ).resizable({
            grid: 2,
            handles: 's',
            minHeight: 0
	});
        
    });

</script>
{% endblock %}

{% block content %}
<h1>Calendar</h1>
<div class="sidebar">
    <ul class="tasks unasigned">
        <li>
            <div class="task-break"></div>
            <div class="task" style="height: 48px; line-height: 48px; top: 0px;">Work</li>
        </li>
        <li>
            <div class="task-break"></div>
            <div class="task" style="height: 48px; line-height: 48px; top: 0px;">Work</li>
        </li>
    </ul>
</div>

<div id="days">
    {% include "AcmeManagerBundle:Calendar:days.html.twig" %}
</div>

{% endblock %}

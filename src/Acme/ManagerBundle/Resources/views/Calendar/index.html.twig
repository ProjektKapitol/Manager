{% extends "AcmeManagerBundle::layout.html.twig" %}

{% block menu %}
    {% set active = 'calendar' %}
    {{ parent() }}
{% endblock %}

{% block javascripts %}
{{ parent() }}
<script src="{{ asset('js/calendar.js') }}" type="text/javascript"></script>
<script src="{{ asset('js/data.js') }}" type="text/javascript"></script>
<script type="text/javascript">
    $(function() {
        Manager.Data.jsonLoad('jsonDataDays', {'year': 2012, 'month': 6, 'day': 9});
        $('body').bind('Manager.Data:jsonloaded', function(event, data) {
            //data recived
            Manager.Calendar.start({
                container: '#days',
                data: data
            });
            
        });
        
    });

</script>
{% endblock %}

{% block content %}
<ul class="modes">
    <li><a href="#" class="active" id="mode-days">Days</a></li>
    <li><a href="#" id="mode-month">Month</a></li>
</ul>

<h1>Calendar</h1>

<div class="sidebar">
    <ul class="tasks unasigned">
        <li class="inactive add-task">
            <input type="text" class="input" value="New task..." id="add-task-description" />
            <a href="#" class="button" id="add-task-button">+</a>
        </li>
        <li>
            <div class="task-break"></div>
            <div class="task" style="height: 48px; line-height: 48px; top: 0px;">Work</div>
        </li>
        <li>
            <div class="task-break"></div>
            <div class="task" style="height: 48px; line-height: 48px; top: 0px;">Work</div>
        </li>
        <li class="inactive remove-task">
            Drop a task here to delete
        </li>
    </ul>
</div>

<div id="days">
    {% include "AcmeManagerBundle:Calendar:days.html.twig" %}
</div>

{% endblock %}
